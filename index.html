<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Higher State Of Consciousness</title>
    <meta name="description" content="Higher State Of Consciousness">
    <meta name="author" content="Tal Giat">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/night.css" id="theme">
    <link rel="stylesheet" href="css/higher-state.css">
    <link rel="stylesheet" href="lib/css/zenburn.css">
  </head>

  <body>
    <div id="higher-state" class="reveal">
      <div class="slides">
        <!-- Intro -->
        <section>
          <h1>Higher State Of Consciousness</h1>
          <p>
            Tall Giant <a href="http://twitter.com/talgiat">@talgiat</a>
          </p>
        </section>

        <!-- Not about -->
        <section>
          <section>
            <img src="/img/higher_ep.jpeg" alt="Higher EP"/>
          </section>  
          <section>
            <img src="/img/wink.jpg" alt="Wink"/>
          </section>
          <section class="alt-state"/>
            <img src="/img/meditating.jpg" alt="medidating"/>
            <img class="fragment" src="/img/mushrooms.jpg" alt="mushrooms"/>
            <img class="fragment" src="/img/dog-cannabis.jpg" alt="cannabis"/>
          </section>
        </section>

        <!-- Clojure vs. Scala -->
        <section>
          <section>
            <img class="fragment" src="/img/reuters-logo.jpg"/>
          </section>
          <section>
            <img class="fragment fade-out" src="/img/java.png"/>
            <img class="fragment roll-in" src="/img/java_hate.png"/>
          </section>
          <section>
            <h2 class="fragment">Scala || Clojure</h2>
            <h2>&nbsp;</h2>
            <h2 class="fragment">(or Scala Clojure)</h2>
          </section>
          <section>
            <img src="/img/odersky.jpg"/>
          </section>
          <section>
            <img src="/img/hickey.jpg"/>
          </section>
          <section>
            <h1>FUNCTIONAL</h1>
          </section>
          <section>
            <h1><span style="color:green;">F</span> <span style="color:pink;">U</span> <span style="color:blue;">N</span> <span style="color:red">!</span></h1>
          </section>
          <section>
            <blockquote>
              &ldquo;When it started out it was an awful lot of fun. Of course the paying customers got shafted every now and then and after a while we began to take their complaints seriously. We began to feel as if we really were responsible for the successful error-free perfect use of these machines. I don’t think we are. I think we’re responsible for stretching them setting them off in new directions and keeping fun in the house.&rdquo;
            </blockquote>
            <p> ~Alan Perlis</p>
          </section>
            
        </section>

        <!-- Clojure, Immutable Data Structure -->
        <section>
          <section>
            <h3>Crash Course</h3>
            <pre class="higher-code">
              <code data-trim>
  &nbsp;&nbsp;f(a,b) => (f a b)
  if(a) { f(b)} => (if a (f b))
              </code>
            </pre>
          </section>
          <section>
            <h3>Special Forms</h3>
            <pre>
              <code data-trim class="higher-code">
              (def symbol init?)
(do exprs*)
(let [bindings* ] exprs*)
(quote form)
(fn name? [params* ] exprs*)
(loop [bindings* ] exprs*)
(recur exprs*)
(try expr* catch-clause* finally-clause?)
              </code>
            </pre>
          </section>
          <section>
            <img src="/img/lisp.png"/>
          </section>
          <section>
            <h2>Homoiconic</h2>
            <h3 class="fragment">Code as Data</h3>
          </section>
          <section>
            <pre>
              <code data-trim class="higher-code">
            (defmacro when
  "Evaluates test. If logical true, evaluates body in an 
   implicit do."
  [test & body]
  (list 'if test (cons 'do body)))
              </code>
            </pre>
          </section>
          <section>
            <pre>
              <code data-trim class="higher-code">
              (defmacro foreach [[sym coll] & body] 
  `(loop [coll# ~coll]
    (when-let [[~sym & xs#] (seq coll#)] 
      ~@body
      (recur xs#))))
              </code>
            <pre>
          </section>
          <section>
            <ul class=>
              <li>list ()</li>
            </ul>
          </section>
          <section>
            <ul>
              <li>list (a b c d)</li>
              <li>vector [a b c d]</li>
              <li>hash-map {:a b :c d}</li>
              <li>set #{a b c d}</li>
            </ul>
          </section>
          <section>
            <h2>Persistent Data Structure</h2>
          </section>
          <section>
            <img src="/img/okasaki.png"/>
          </section>
          <section>
            <img src="/img/phil_bagwell.png"/>
          </section>
          <section>
            <p> a persistent data structure is a data structure that always preserves the previous version of itself when it is modified. Such data structures are effectively immutable, as their operations do not update the structure in-place, but instead always yield a new updated structure.</p>
          </section>
          <section>
            <h3>Git Commit Trees</h3>
            <pre>
              <code data-trim class="higher-code">

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+---+    +---+    +---+    +---+
branch -> | D +--+>+ C +--->+ B +--->+ A |
          +---+ /  +---+    +---+    +---+
               /     |
          +---+  master^
master -> | E |
          +---+
              </code>
            <pre>
          </section>
          <section>
             <img src="/img/persistentvector1.png" />
          </section>
          <section>
            <img src="/img/bin-map1.png" />
          </section>
          <section>
            <img src="/img/persistentvector2.png" />
          </section>
          <section>
            <ul>
              <li class="fragment">Objects hide state</li>
              <li class="fragment">Every property of an object is an implicit argument to each one of its 
                methods</li>
              <li class="fragment">Objects don't encapsulate state when we introduce concurrency</li>
            </ul>
          </section>
          <section>
            <img src="/img/how_did_I_get_here.jpg"/>
            <blockquote>
              And you may ask yourself, well, how did I get here ?
            </blockquote>
            <p>&nbsp;</p>
            <p class="fragment">
              GOTO statements => Code
            </p>
            <p class="fragment">
              Mutable data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> State
            </p>
          </section>
          <section>
            <img src="/img/epochal-time-model.png"/>
          </section>
          <section>
            <ul>
              <li >Vars</li>
              <li >Refs</li>
              <li >Agents</li>
              <li class="fragment highlight-current-green grow">Atoms</li>
            <ul>
          </section>
          <section>
            <h2>ClojureScript</h2>
          </section>
        </section>

        <section>
          <section>
            <img src="/img/reactjs.png"/>
          </section>
          <section>
            <h2>Old School - Render pages on the server</h2>
          </section>
          <section>
            <h2 class="fragment">f(D) => V</h2>
            <h2 class="fragment">f(D') => V'</h2>
          </section>
          <section>
            <pre>
              <code trim-data>
      var ExampleApplication = React.createClass({
        render: function() {
          var elapsed = Math.round(this.props.elapsed  / 100);
          var seconds = elapsed / 10 + (elapsed % 10 ? '' : '.0' );
          var message =
            'Successfully running for ' + seconds + ' seconds, render number: ' + num_of_renders;
          return React.DOM.div(null, 
            [React.DOM.p(null, message),
             React.DOM.input(null)]);
        }
      });
      var start = new Date().getTime();
      var num_of_renders = 0;
      setInterval(function() {
        React.renderComponent(
          ExampleApplication({elapsed: new Date().getTime() - start, 
                              num_of_renders: num_of_renders += 1}),
          document.getElementById('container')
        );
      }, 50);
              </code>
            </pre>
          </section>
          <section>
            <img src="/img/react_pipeline.png"/>
          </section>
          <section>
            <pre>
              <code trim-data class="higher-code">
                shouldComponentUpdate: function(nextProps, nextState) {
                  return nextProps.id !== this.props.id;
                }
              </code>
            </pre>
          </section>
          <section>
            <pre>
              <code trim-data class="higher-code">
                shouldComponentUpdate: function(nextProps, nextState) {
                  return nextProps.id !== this.props.id;
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <section>
            <h2>Om</h2>
            <h3>React + ClojureScript</h3>
          </section>
          <section>
            <h3>Explicit Global State is Good</h3>
            <pre>
              <code trim-data class="higher-code">
            (def app-state (atom {:search {:keywords ""}
                                  :results []}))
              </code>
            </pre>
          </section>
          <section>
            <img style="background:white;" src="/img/component_tree.png"/>
          </section>
          <section>
            <h2>Om Cursor, is a triplet:</h2>
            <ul>
              <li>component data to render</li>
              <li>path into the app state</li>
              <li>reference to the app state</li>
            </ul>
          </section>
          <section>
            <h3>Application cursor</h3>
            <pre class="higher-pre">
            value {:search {:keywords ""}
                   :results []} 
            path []
            state #&lt;Atom: {{:search ...}&gt;
            </pre>
          </section>
          <section>
            <h3>Search component cursor</h3>
            <pre class="higher-pre">
            value {:keywords ""} 
            path [:search]
            state #&lt;Atom: {{:search ...}&gt;
            </pre>
          </section>
          <section>
            <img class="fragment" src="/img/persistentvector2.png" />
            <pre class="fragment">
              <code trim-data>
                (should-update [this next-props next-state]
                  (or (not= current-props nex-props)
                      (not= current-state nex-state)))
              </code>
            </pre>
          </section>
          <section>
            <h2>Fast!</h2>
            <img src="/img/fast.jpg"/>
          </section>
          <section>
            <img src="/img/epochal-time-model.png"/>
          </section>
        </section>

        <section>
          <h1>Questions ?</h1>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>
      Reveal.initialize({
        history: true,
        center: true,
        touch: false,
        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', //default/cube/page/concave/zoom/linear/fade/none
        dependencies: [
          { src: 'lib/js/classList.js', 
            condition: function() { 
              return !document.body.classList; 
            } 
          },
          { src: 'plugin/highlight/highlight.js', 
            async: true, 
            callback: function() { 
              hljs.initHighlightingOnLoad(); 
            } 
          },
          { src: 'plugin/zoom-js/zoom.js', 
            async: true, 
            condition: function() { 
              return !!document.body.classList; 
            } 
          }
        ]
      });
    </script>
  </body>
</html>